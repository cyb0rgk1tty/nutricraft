---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import ScrollAnimation from "../components/ScrollAnimation.astro";
---

<BaseLayout 
  title="Schedule a Discovery Call | Nutricraft Labs"
  description="Book a free consultation with our supplement manufacturing experts. Learn how we can help launch your brand with vetted GMP partners and full regulatory compliance.">
  <Header />

  <!-- Hero Section -->
  <section class="relative bg-gradient-to-b from-mint-50 to-white overflow-hidden py-12 md:py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center">
        <ScrollAnimation animation="fade-up">
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-dark-900 mb-6">
            Schedule Your Discovery Call
          </h1>
        </ScrollAnimation>
        <ScrollAnimation animation="fade-up" delay={100}>
          <p class="text-xl text-dark-600 max-w-3xl mx-auto mb-8">
            Let's discuss your supplement project and how we can help bring it to market faster and more affordably.
          </p>
        </ScrollAnimation>
      </div>
    </div>
  </section>

  <!-- What to Expect Section -->
  <section class="py-12 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto">
        <ScrollAnimation animation="fade-up">
          <h2 class="text-2xl md:text-3xl font-bold text-dark-900 text-center mb-8">
            What to Expect in Your Discovery Call
          </h2>
        </ScrollAnimation>
        
        <div class="grid md:grid-cols-3 gap-6 mb-12">
          <ScrollAnimation animation="fade-up" delay={100}>
            <div class="bg-mint-50 rounded-lg p-6">
              <div class="w-12 h-12 bg-mint-100 rounded-full flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-mint-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path>
                </svg>
              </div>
              <h3 class="text-lg font-semibold text-dark-900 mb-2">
                Discuss Your Vision
              </h3>
              <p class="text-dark-600 text-sm">
                We'll learn about your brand goals, target market, and specific product requirements.
              </p>
            </div>
          </ScrollAnimation>
          
          <ScrollAnimation animation="fade-up" delay={200}>
            <div class="bg-mint-50 rounded-lg p-6">
              <div class="w-12 h-12 bg-mint-100 rounded-full flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-mint-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path>
                </svg>
              </div>
              <h3 class="text-lg font-semibold text-dark-900 mb-2">
                Manufacturing Strategy
              </h3>
              <p class="text-dark-600 text-sm">
                Get expert guidance on formulations, packaging, and finding the right GMP partners.
              </p>
            </div>
          </ScrollAnimation>
          
          <ScrollAnimation animation="fade-up" delay={300}>
            <div class="bg-mint-50 rounded-lg p-6">
              <div class="w-12 h-12 bg-mint-100 rounded-full flex items-center justify-center mb-4">
                <svg class="w-6 h-6 text-mint-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
              </div>
              <h3 class="text-lg font-semibold text-dark-900 mb-2">
                Pricing & Timeline
              </h3>
              <p class="text-dark-600 text-sm">
                Receive transparent cost estimates and realistic timelines for your project.
              </p>
            </div>
          </ScrollAnimation>
        </div>
      </div>
    </div>
  </section>

  <!-- Calendar Embed Section -->
  <section class="py-12 bg-gradient-to-b from-white to-mint-50">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <ScrollAnimation animation="fade-in">
        <div class="bg-white rounded-2xl shadow-xl p-2 md:p-4">
          <!-- Cal.com Inline Embed -->
          <div 
            id="cal-inline-embed" 
            class="min-h-[600px] md:min-h-[700px]"
            style="width:100%;height:700px;overflow:scroll"
          ></div>
        </div>
      </ScrollAnimation>
    </div>
  </section>

  <!-- Trust Elements Section -->
  <section class="py-12 bg-mint-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <ScrollAnimation animation="fade-up">
        <h3 class="text-xl font-semibold text-dark-900 mb-6">
          Why Schedule a Call With Us?
        </h3>
      </ScrollAnimation>
      
      <ScrollAnimation animation="fade-up" delay={100}>
        <div class="flex flex-wrap justify-center gap-6">
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-mint-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span class="text-dark-700">100% Free Consultation</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-mint-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span class="text-dark-700">No Obligations</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-mint-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span class="text-dark-700">Expert Guidance</span>
          </div>
        </div>
      </ScrollAnimation>
    </div>
  </section>

  <Footer />
  
  <!-- Initialize Cal.com Inline Embed -->
  <script>
    // Wait for Cal to be available
    function initializeCalEmbed() {
      if (typeof Cal !== 'undefined') {
        Cal("inline", {
          elementOrSelector: "#cal-inline-embed",
          calLink: "nutricraftlabs",
          config: {
            theme: "light",
            hideEventTypeDetails: false,
            layout: "month_view"
          }
        });
        
        // Listen for booking success
        Cal("on", {
          action: "bookingSuccessful",
          callback: (e) => {
            // Track Google Ads conversion for calendar bookings
            if (typeof gtag_report_conversion === 'function') {
              gtag_report_conversion();
            }
            console.log("Booking successful (inline):", e.detail);
          }
        });
      } else {
        // If Cal isn't ready yet, wait and try again
        setTimeout(initializeCalEmbed, 100);
      }
    }
    
    // Start initialization when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', initializeCalEmbed);
    } else {
      initializeCalEmbed();
    }
  </script>
</BaseLayout>