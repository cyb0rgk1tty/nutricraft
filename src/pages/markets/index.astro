---
import BaseLayout from "../../layouts/BaseLayout.astro";
import Header from "../../components/Header.astro";
import Footer from "../../components/Footer.astro";
import ScrollAnimation from "../../components/ScrollAnimation.astro";
import { geographicMarkets } from "../../data/geographic-markets.js";

// Categorize markets by type
const categories = {
  all: {
    name: "All Markets",
    markets: geographicMarkets
  },
  countries: {
    name: "Countries",
    markets: geographicMarkets.filter(m => m.type === 'country')
  },
  provinces: {
    name: "Canadian Provinces",
    markets: geographicMarkets.filter(m => m.type === 'province')
  },
  states: {
    name: "US States",
    markets: geographicMarkets.filter(m => m.type === 'state')
  }
};

const metaTitle = "Geographic Market Expertise for Supplement Manufacturing | Nutricraft Labs";
const metaDescription = "Expert supplement manufacturing for US and Canadian markets. NPN applications, FDA compliance, state and provincial regulations. Serve 10+ major markets with 1000-unit MOQ.";
---

<BaseLayout title={metaTitle} description={metaDescription}>
  <Header />

  <!-- Hero Section -->
  <section class="relative bg-gradient-to-b from-mint-50 to-white py-16 md:py-24">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <ScrollAnimation>
        <div class="text-center max-w-4xl mx-auto">
          <div class="inline-flex items-center gap-2 bg-mint-100 text-mint-800 px-4 py-2 rounded-full text-sm font-semibold mb-6">
            <span>Cross-Border Market Expertise</span>
          </div>
          <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-6">
            Supplement Manufacturing<br/>
            <span class="text-mint-600">for US & Canadian Markets</span>
          </h1>
          <p class="text-xl text-gray-600 mb-8">
            Navigate complex regulations across 10+ major markets. From California's Prop 65 to Quebec's French-language requirements, we provide market-specific expertise for successful product launches.
          </p>

          <!-- Value Props -->
          <div class="flex flex-wrap justify-center gap-4 mb-10">
            <div class="flex items-center gap-2 bg-mint-50 px-3 py-1 rounded-full">
              <svg class="w-5 h-5 text-mint-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              <span class="text-gray-700 font-medium text-sm">US & Canada Specialists</span>
            </div>
            <div class="flex items-center gap-2 bg-mint-50 px-3 py-1 rounded-full">
              <svg class="w-5 h-5 text-mint-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              <span class="text-gray-700 font-medium text-sm">NPN Experts</span>
            </div>
            <div class="flex items-center gap-2 bg-mint-50 px-3 py-1 rounded-full">
              <svg class="w-5 h-5 text-mint-600" fill="currentColor" viewBox="0 0 20 20">
                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
              </svg>
              <span class="text-gray-700 font-medium text-sm">Cross-Border Logistics</span>
            </div>
          </div>

          <!-- CTA -->
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <button
              data-cal-link="Nutricraftlabs"
              data-cal-config='{"theme":"light"}'
              class="inline-flex items-center justify-center px-8 py-4 bg-mint-600 text-white font-semibold rounded-lg hover:bg-mint-700 transition-all duration-300 transform hover:scale-105 shadow-lg"
            >
              Schedule Consultation
            </button>
            <a href="/contact" class="inline-flex items-center justify-center px-8 py-4 bg-white text-mint-600 font-semibold rounded-lg hover:bg-mint-50 transition-all duration-300 transform hover:scale-105 shadow-lg border-2 border-mint-600">
              Get Market Analysis
            </a>
          </div>
        </div>
      </ScrollAnimation>
    </div>
  </section>

  <!-- Intro Content -->
  <section class="py-16 bg-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <ScrollAnimation>
        <div class="prose prose-lg max-w-none">
          <h2 class="text-3xl font-bold text-gray-900 mb-6">Navigate Complex Cross-Border Regulations with Confidence</h2>

          <p class="text-gray-600 mb-4">
            Expanding into US and Canadian supplement markets requires deep regulatory knowledge and market-specific expertise. Each jurisdiction has unique requirements: Health Canada's NPN system, California's Prop 65 warnings, Quebec's French-predominance laws, and state-by-state nuances that can make or break your market entry.
          </p>

          <p class="text-gray-600 mb-4">
            At Nutricraft Labs, we've successfully guided over 20 brands through these complex regulatory landscapes. Whether you're a US brand expanding into Canada, a Canadian company entering US markets, or targeting specific high-value states and provinces, our market-specific expertise ensures compliant, successful launches.
          </p>

          <h3 class="text-2xl font-bold text-gray-900 mb-4 mt-8">Why Market-Specific Expertise Matters</h3>

          <div class="grid md:grid-cols-2 gap-6 my-8">
            <div class="bg-gray-50 p-6 rounded-lg">
              <h4 class="font-bold text-gray-900 mb-2">Regulatory Complexity</h4>
              <p class="text-gray-600 text-sm">US and Canadian regulations differ significantly. Canada requires pre-market NPN approval (6-12 months), while the US allows faster market entry under DSHEA. Getting it wrong means costly delays or recalls.</p>
            </div>
            <div class="bg-gray-50 p-6 rounded-lg">
              <h4 class="font-bold text-gray-900 mb-2">Language & Labeling</h4>
              <p class="text-gray-600 text-sm">Canadian federal law requires bilingual labeling. Quebec law requires French-predominance. Each jurisdiction has specific label format requirements that must be followed exactly.</p>
            </div>
            <div class="bg-gray-50 p-6 rounded-lg">
              <h4 class="font-bold text-gray-900 mb-2">Market Opportunities</h4>
              <p class="text-gray-600 text-sm">Canada's NPN system creates consumer trust and premium pricing. California, Texas, Florida, and New York represent 40%+ of the US supplement market. Provincial markets have unique consumer preferences.</p>
            </div>
            <div class="bg-gray-50 p-6 rounded-lg">
              <h4 class="font-bold text-gray-900 mb-2">Distribution & Logistics</h4>
              <p class="text-gray-600 text-sm">Cross-border shipping, customs brokerage, warehousing strategies, and distribution partnerships vary significantly by market. We help you optimize logistics for each target market.</p>
            </div>
          </div>

          <p class="text-gray-600">
            Browse our market library below to explore regulatory requirements, market opportunities, consumer trends, and logistics considerations for each major US and Canadian market. Ready to expand? <a href="/contact" class="text-mint-600 hover:text-mint-700 font-semibold">Contact our regulatory team</a> for market-specific guidance.
          </p>
        </div>
      </ScrollAnimation>
    </div>
  </section>

  <!-- Market Comparison -->
  <section class="py-16 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <ScrollAnimation>
        <h2 class="text-3xl font-bold text-gray-900 mb-8 text-center">US vs Canada: Key Differences</h2>
        <div class="grid md:grid-cols-2 gap-8">
          <!-- United States -->
          <div class="bg-white rounded-xl p-8 shadow-lg">
            <div class="flex items-center gap-3 mb-4">
              <div class="text-4xl">ðŸ‡ºðŸ‡¸</div>
              <h3 class="text-2xl font-bold text-gray-900">United States</h3>
            </div>
            <ul class="space-y-3">
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-mint-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700"><strong>Regulatory Framework:</strong> DSHEA (post-market oversight by FDA)</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-mint-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700"><strong>Time to Market:</strong> 4-10 weeks (no pre-market approval needed)</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-mint-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700"><strong>Labeling:</strong> English only (bilingual optional)</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-mint-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700"><strong>Market Size:</strong> $63-72 billion (2024)</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-mint-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700"><strong>Best For:</strong> Quick launches, market testing, rapid iteration</span>
              </li>
            </ul>
          </div>

          <!-- Canada -->
          <div class="bg-white rounded-xl p-8 shadow-lg">
            <div class="flex items-center gap-3 mb-4">
              <div class="text-4xl">ðŸ‡¨ðŸ‡¦</div>
              <h3 class="text-2xl font-bold text-gray-900">Canada</h3>
            </div>
            <ul class="space-y-3">
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-mint-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700"><strong>Regulatory Framework:</strong> NPN system (pre-market approval by Health Canada)</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-mint-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700"><strong>Time to Market:</strong> 6-12 months (NPN approval required)</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-mint-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700"><strong>Labeling:</strong> Bilingual (English & French) mandatory</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-mint-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700"><strong>Market Size:</strong> USD $7.87 billion (2023)</span>
              </li>
              <li class="flex items-start gap-2">
                <svg class="w-5 h-5 text-mint-600 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                </svg>
                <span class="text-gray-700"><strong>Best For:</strong> Premium positioning, consumer trust, regulatory credibility</span>
              </li>
            </ul>
          </div>
        </div>
      </ScrollAnimation>
    </div>
  </section>

  <!-- Category Filter -->
  <section class="py-12 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <ScrollAnimation>
        <div class="flex flex-wrap justify-center gap-3 mb-4">
          <button
            class="filter-btn px-6 py-3 bg-mint-600 text-white font-semibold rounded-lg hover:bg-mint-700 transition-all duration-300 shadow-md"
            data-category="all"
          >
            All Markets ({geographicMarkets.length})
          </button>
          {Object.entries(categories).filter(([key]) => key !== 'all').map(([key, cat]) => (
            <button
              class="filter-btn px-6 py-3 bg-white text-gray-700 font-semibold rounded-lg hover:bg-mint-50 hover:text-mint-700 transition-all duration-300 shadow-md border border-gray-200"
              data-category={key}
            >
              {cat.name} ({cat.markets.length})
            </button>
          ))}
        </div>
      </ScrollAnimation>
    </div>
  </section>

  <!-- Markets Grid -->
  <section class="py-16 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div id="markets-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {geographicMarkets.map((market, index) => {
          const categoryKey = market.type === 'country' ? 'countries' : market.type === 'province' ? 'provinces' : 'states';

          // Get flag emoji based on country/province/state
          const getFlag = (mkt) => {
            if (mkt.type === 'country') {
              return mkt.id === 'canada' ? 'ðŸ‡¨ðŸ‡¦' : 'ðŸ‡ºðŸ‡¸';
            } else if (mkt.type === 'province') {
              return 'ðŸ‡¨ðŸ‡¦';
            } else {
              return 'ðŸ‡ºðŸ‡¸';
            }
          };

          return (
            <ScrollAnimation delay={index * 50}>
              <div
                class="market-card bg-white rounded-xl p-8 shadow-lg hover:shadow-xl transition-all duration-300 h-full flex flex-col group hover:scale-105"
                data-category={categoryKey}
              >
                <div class="flex-grow">
                  <div class="flex items-center gap-3 mb-3">
                    <div class="text-4xl">{getFlag(market)}</div>
                    <h3 class="text-2xl font-bold text-gray-900">{market.name}</h3>
                  </div>

                  {/* Market type badge */}
                  <div class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-mint-100 text-mint-800 mb-3">
                    {market.type === 'country' ? 'National Market' : market.type === 'province' ? 'Canadian Province' : 'US State'}
                  </div>

                  {/* Brief description */}
                  <p class="text-gray-600 mb-4 line-clamp-3">{market.description}</p>

                  {/* Market highlights */}
                  <div class="bg-mint-50 rounded-lg p-4 mb-4">
                    <div class="space-y-2 text-sm">
                      <div>
                        <div class="text-gray-500 text-xs font-medium">Market Size</div>
                        <div class="text-gray-900 font-semibold">{market.marketData.marketSize}</div>
                      </div>
                      <div>
                        <div class="text-gray-500 text-xs font-medium">Growth Rate</div>
                        <div class="text-gray-900 font-semibold">{market.marketData.growthRate}</div>
                      </div>
                      {market.population && (
                        <div>
                          <div class="text-gray-500 text-xs font-medium">Population</div>
                          <div class="text-gray-900 font-semibold">{market.population}</div>
                        </div>
                      )}
                    </div>
                  </div>

                  {/* Regulatory body */}
                  <div class="text-sm text-gray-600 mb-4">
                    <span class="font-semibold">Regulatory Body:</span> {market.regulatoryBody.split(' - ')[0]}
                  </div>
                </div>

                {/* CTA */}
                <div class="mt-6">
                  <a href={`/${market.slug}-supplement-manufacturing`} class="inline-flex items-center text-mint-600 font-semibold hover:text-mint-700 transition-colors">
                    View Market Details
                    <svg class="ml-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                    </svg>
                  </a>
                </div>
              </div>
            </ScrollAnimation>
          );
        })}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-20 bg-gradient-to-b from-mint-50 to-white">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <ScrollAnimation>
        <h2 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">
          Ready to Expand to New Markets?
        </h2>
        <p class="text-xl text-gray-600 mb-8 max-w-2xl mx-auto">
          Get expert regulatory guidance for US and Canadian markets. From NPN applications to state-specific compliance, we ensure successful market entry.
        </p>

        <!-- Trust Elements -->
        <div class="flex flex-wrap justify-center gap-6 mb-8">
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-mint-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span class="text-gray-700">Free Market Analysis</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-mint-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span class="text-gray-700">Regulatory Roadmap</span>
          </div>
          <div class="flex items-center gap-2">
            <svg class="w-5 h-5 text-mint-600" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
            </svg>
            <span class="text-gray-700">Quick Response</span>
          </div>
        </div>
      </ScrollAnimation>

      <ScrollAnimation delay={200}>
        <div class="flex flex-col sm:flex-row gap-4 justify-center mb-6">
          <button
            data-cal-link="Nutricraftlabs"
            data-cal-config='{"theme":"light"}'
            class="inline-flex items-center justify-center px-10 py-5 bg-mint-600 text-white font-bold text-lg rounded-lg hover:bg-mint-700 transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl"
          >
            Schedule Consultation
            <svg
              class="ml-2 w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
            </svg>
          </button>
          <a
            href="/contact"
            class="inline-flex items-center justify-center px-10 py-5 bg-white text-mint-600 font-bold text-lg rounded-lg border-2 border-mint-600 hover:bg-mint-50 transition-all duration-300 transform hover:scale-105 shadow-xl hover:shadow-2xl"
          >
            Get Market Analysis
            <svg
              class="ml-2 w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
            </svg>
          </a>
        </div>

        <p class="text-sm text-gray-600">
          Questions about market-specific requirements? <a href="/contact" class="text-mint-600 hover:text-mint-700 font-semibold underline">Contact our regulatory team</a> for expert guidance.
        </p>
      </ScrollAnimation>
    </div>
  </section>

  <Footer />
</BaseLayout>

<script>
  // Client-side filtering
  document.addEventListener('DOMContentLoaded', () => {
    const filterButtons = document.querySelectorAll('.filter-btn');
    const marketCards = document.querySelectorAll('.market-card');

    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        const category = button.dataset.category;

        // Update active button
        filterButtons.forEach(btn => {
          if (btn === button) {
            btn.classList.remove('bg-white', 'text-gray-700', 'border-gray-200');
            btn.classList.add('bg-mint-600', 'text-white');
          } else {
            btn.classList.remove('bg-mint-600', 'text-white');
            btn.classList.add('bg-white', 'text-gray-700', 'border-gray-200');
          }
        });

        // Filter cards
        marketCards.forEach(card => {
          if (category === 'all' || card.dataset.category === category) {
            card.style.display = 'flex';
          } else {
            card.style.display = 'none';
          }
        });
      });
    });
  });
</script>

<style>
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>
