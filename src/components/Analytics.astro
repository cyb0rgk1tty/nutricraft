---
const isProd = import.meta.env.PROD;

// Build the script content for dataLayer events
let scriptContent = `
  // Track outbound links
  document.addEventListener('DOMContentLoaded', function() {
    const links = document.querySelectorAll('a[href^="http"]:not([href*="nutricraftlabs.com"])');
    links.forEach(link => {
      link.addEventListener('click', function() {
        window.dataLayer = window.dataLayer || [];
        window.dataLayer.push({
          'event': 'outbound_click',
          'event_category': 'outbound',
          'event_label': this.href
        });
      });
    });
  });`;
---

{isProd && (
  <!-- Event Tracking for GTM -->
  <script is:inline set:html={scriptContent}></script>
)}