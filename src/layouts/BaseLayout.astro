---
import { SEO } from 'astro-seo';
import ChatSupport from '../components/ChatSupport.astro';
import '../styles/tailwind.css';

export interface Props {
  title?: string;
  description?: string;
  image?: string;
}

const { 
  title = 'The Wellness Drop | Private-Label Supplements, NPN & GMP Partner Network (Canada/US)',
  description = 'Launch compliant supplements faster. We connect you with vetted GMP manufacturers and handle NPN, labels, and packaging.',
  image = '/images/og-image.jpg'
} = Astro.props;

const canonicalURL = new URL(Astro.url.pathname, Astro.site);
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    
    <SEO
      title={title}
      description={description}
      openGraph={{
        basic: {
          title,
          type: "website",
          image,
          url: canonicalURL.href
        },
        optional: {
          description,
          siteName: "The Wellness Drop"
        }
      }}
      twitter={{
        creator: "@thewellnessdrop",
        site: "@thewellnessdrop",
        card: "summary_large_image"
      }}
      extend={{
        link: [
          { rel: "canonical", href: canonicalURL.href },
          { rel: "sitemap", href: "/sitemap-index.xml" },
          { 
            rel: "preconnect", 
            href: "https://fonts.googleapis.com" 
          },
          { 
            rel: "preconnect", 
            href: "https://fonts.gstatic.com",
            crossorigin: true
          },
          {
            href: "https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap",
            rel: "stylesheet"
          }
        ],
        meta: [
          { name: "robots", content: "index, follow" },
          { name: "googlebot", content: "index, follow" },
          { property: "og:locale", content: "en_US" }
        ]
      }}
    />
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "The Wellness Drop",
        "description": "Private-label supplements and regulatory compliance services for North America",
        "url": "https://thewellnessdrop.com",
        "logo": "https://thewellnessdrop.com/images/logo.png",
        "contactPoint": {
          "@type": "ContactPoint",
          "email": "hello@thewellnessdrop.com",
          "contactType": "sales",
          "availableLanguage": ["English", "French"]
        },
        "sameAs": [
          "https://www.linkedin.com/company/thewellnessdrop",
          "https://twitter.com/thewellnessdrop"
        ],
        "areaServed": ["CA", "US"],
        "serviceArea": {
          "@type": "GeoCircle",
          "geoMidpoint": {
            "@type": "GeoCoordinates",
            "latitude": "43.653226",
            "longitude": "-79.3831843"
          },
          "geoRadius": "5000000"
        }
      }
    </script>
  </head>
  <body class="bg-white text-gray-900">
    <slot />
    <ChatSupport />
  </body>
</html>